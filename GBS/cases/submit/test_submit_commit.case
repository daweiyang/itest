__Issue__: 82

__Tag__:

__Summary__: test submit --commit

__Precondition__

1. Tested Pkgs: fake-submit
2. Tested Repo:
3. Tested Conf: base.cfg

__Steps__

> if [ -d 'fake-submit' ]; then rm -rf fake-submit; fi

> if [ -d 'test-submit' ]; then rm -rf test-submit; fi

> tools/create_proj specs/fake.spec -C fake-submit

> date >>fake-submit/README

> git --git-dir=fake-submit/.git/ commit -am "Change README for test"

> git clone fake-submit test-submit

> gbs submit -c HEAD~1 -m "test commit" test-submit |tee log

# with git version 1.7.11.4, checking is simple
# test -n "`git --git-dir=test-submit/.git/ tag -l --points-at HEAD~1`"

> TAG=`awk -v FS=: '/submit\/trunk/ {print $3}' log`

> c1=`git --git-dir=fake-submit/.git/ log $TAG -1 --pretty=format:%H`

> c2=`git --git-dir=test-submit/.git/ rev-parse HEAD~1`

> [ ${c1} == ${c2} ] && echo "GBS_TEST_PASSED"

