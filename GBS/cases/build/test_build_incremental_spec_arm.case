__Issue__: 69

__Tag__:

__Summary__:test incremental feature with spec option

__Precondition__

1. Tested Pkgs:
2. Tested Repo: https://download.tz.otcshare.org/snapshots/trunk/common/latest
3. Tested Conf: conf_fixtures/tizendev.cfg

__Steps__

> sudo rm ~/GBS-ROOT/local/repos -rf

> sudo rm ~/GBS-ROOT/local/scratch.armv7l.* -rf

> rm build -rf

> mkdir build

> cd build/

> ../tools/create_proj ../specs/fake.spec ../specs/fake-dev.spec

> gbs -c ../conf_fixtures/tizendev.cfg build --incremental --spec=fake-dev.spec fake -A armv7l 2>&1 | tee log

#check build log key word
> test -z "`grep "init_buildsystem.*fake.spec" log`"

> test -n "`grep "init_buildsystem.*fake-dev.spec" log`"

> test -z "`grep "mount:.*scratch" log`"

> test -n "`grep "rpmbuild.*-b[c|p]" log`"

#check source package whether changed or not
> cd fake && test -n "`git status | grep "working directory clean"`"

#check rpm generated whether or not
> test -n "`find ~/GBS-ROOT/local/repos -name "*fake-dev*rpm"`"

#check generated rpm whether is rpmlib(ShortCircuited) or not
> find ~/GBS-ROOT/local/repos/ -name "*rpm" |xargs -i rpm -qpR {} |grep "rpmlib(ShortCircuited)"
